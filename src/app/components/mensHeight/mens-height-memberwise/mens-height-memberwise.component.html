<div class="card">
    <p-table
        #dt
        [value]="datalist"
        [exportHeader]="'customExportHeader'"
        exportFilename="Mens-Height-Memberwise"
        [columns]="cols"
        selectionMode="multiple"
        [(selection)]="selectedDatalist"
        dataKey="id"
        [rowHover]="true"
        [rows]="10"
        [showCurrentPageReport]="true"
        [rowsPerPageOptions]="[10, 25, 50]"
        [paginator]="true"
        currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
        [filterDelay]="0"
        [globalFilterFields]="['member']"
        styleClass="p-datatable-sm p-datatable-gridlines p-datatable-striped"
    >
        <ng-template pTemplate="caption">
            <div class="table-header" style="font-size: x-large">
                FC-11M ht: MEN's HEIGHT OF {{this.stateName | uppercase}} & {{this.teamName | uppercase}}
            </div>
            <br />
            <div class="flex">
                <button
                    type="button"
                    pButton
                    pRipple
                    icon="pi pi-file"
                    (click)="dt.exportCSV()"
                    class="mr-2"
                    pTooltip="CSV"
                    tooltipPosition="bottom"
                ></button>
                <button
                    type="button"
                    pButton
                    pRipple
                    icon="pi pi-file-excel"
                    (click)="exportExcel()"
                    class="p-button-success mr-2"
                    pTooltip="XLS"
                    tooltipPosition="bottom"
                ></button>
                <button
                    type="button"
                    pButton
                    pRipple
                    icon="pi pi-file-pdf"
                    (click)="exportPdf()"
                    class="p-button-warning mr-2"
                    pTooltip="PDF"
                    tooltipPosition="bottom"
                ></button>
                <!-- <button type="button" pButton pRipple icon="pi pi-filter" (click)="dt.exportCSV({ selectionOnly: true })" class="p-button-info ml-auto" pTooltip="Selection Only" tooltipPosition="bottom"></button> -->

                <span class="p-input-icon-left ml-auto">
                    <i class="pi pi-search"></i>
                    <input
                        pInputText
                        type="text"
                        (input)="
                            dt.filterGlobal(
                                $any($event.target).value,
                                'contains'
                            )
                        "
                        placeholder="Global Search"
                    />
                </span>
            </div>
        </ng-template>
        <ng-template pTemplate="header">
            <tr styleClass="row-accessories">
                <th
                    pSortableColumn="member"
                    rowspan="2"
                    style="
                        text-align: center;
                        background-color: rgb(245, 241, 241);
                    "
                >
                    <div
                        class="flex justify-content-between align-items-center"
                    >
                        Member
                        <p-sortIcon field="member"></p-sortIcon>
                    </div>
                </th>
                <th
                    colspan="5"
                    class="text-center"
                    style="
                        min-width: 7rem;
                        background-color: rgb(245, 241, 241);
                    "
                >
                Result of Height Measurement
                </th>
                <th
                    rowspan="2"
                    pSortableColumn="total"
                    style="
                        min-width: 10rem;
                        text-align: center;
                        background-color: rgb(245, 241, 241);
                    "
                >
                    <div
                        class="flex justify-content-between align-items-center"
                    >
                    Total 
                        <p-sortIcon field="total"></p-sortIcon>
                    </div>
                </th>
                <th
                    rowspan="2"
                    pSortableColumn="numberOfMen"
                    style="
                        min-width: 10rem;
                        text-align: center;
                        background-color: rgb(245, 241, 241);
                    "
                >
                    <div
                        class="flex justify-content-between align-items-center"
                    >
                    Number of Men 15-49 
                        <p-sortIcon field="numberOfMen"></p-sortIcon>
                    </div>
                </th>

                <th
                rowspan="2"
                pSortableColumn="menHtOutOfRange"
                style="
                    min-width: 10rem;
                    text-align: center;
                    background-color: rgb(245, 241, 241);
                "
            >
                <div
                    class="flex justify-content-between align-items-center"
                >
                Among Men Measured Height Out of Range (%) 
                    <p-sortIcon field="menHtOutOfRange"></p-sortIcon>
                </div>
            </th>

            <th
            rowspan="2"
            pSortableColumn="menWithValidHtData"
            style="
                min-width: 10rem;
                text-align: center;
                background-color: rgb(245, 241, 241);
            "
        >
            <div
                class="flex justify-content-between align-items-center"
            >
            Men with Valid Height Data (%)
                <p-sortIcon field="menWithValidHtData"></p-sortIcon>
            </div>
        </th>



            </tr>

            <tr>
                <th
                    pSortableColumn="measured"
                    style="
                        min-width: 14rem;
                        text-align: center;
                        background-color: rgb(245, 241, 241);
                    "
                >
                    <div
                        class="flex justify-content-between align-items-center"
                    >
                    Measured 
                        <p-sortIcon field="measured"></p-sortIcon>
                    </div>
                </th>
                <th
                    pSortableColumn="menNotPresent"
                    style="
                        min-width: 14rem;
                        text-align: center;
                        background-color: rgb(245, 241, 241);
                    "
                >
                    <div
                        class="flex justify-content-between align-items-center"
                    >
                    Men not Present 
                        <p-sortIcon field="menNotPresent"></p-sortIcon>
                    </div>
                </th>
                <th
                    pSortableColumn="menRefused"
                    style="
                        min-width: 10rem;
                        text-align: center;
                        background-color: rgb(245, 241, 241);
                    "
                >
                    <div
                        class="flex justify-content-between align-items-center"
                    >
                    Men Refused 
                        <p-sortIcon field="menRefused"></p-sortIcon>
                    </div>
                </th>

                <th
                pSortableColumn="other"
                style="
                    min-width: 10rem;
                    text-align: center;
                    background-color: rgb(245, 241, 241);
                "
            >
                <div
                    class="flex justify-content-between align-items-center"
                >
                Other 
                    <p-sortIcon field="other"></p-sortIcon>
                </div>
            </th>
            <th
            pSortableColumn="missing"
            style="
                min-width: 10rem;
                text-align: center;
                background-color: rgb(245, 241, 241);
            "
        >
            <div
                class="flex justify-content-between align-items-center"
            >
            Missing 
                <p-sortIcon field="missing"></p-sortIcon>
            </div>
        </th>


            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-datalist>
            <tr class="p-selectable-row">
                <td style="text-align: center">
                    <span class="p-column-title">member</span>
                    {{ datalist.member }}
                </td>
                <td style="text-align: center">
                    <span class="p-column-title">Measured </span>

                    <span class="ml-1 vertical-align-middle">
                        {{ datalist.measured || 0 }}%</span
                    >
                </td>
                <td style="text-align: center">
                    <span class="p-column-title">Men not Present </span>

                    <span class="ml-1 vertical-align-middle">
                        {{ datalist.menNotPresent || 0 }}%
                    </span>
                </td>
                <td style="text-align: center">
                    <span class="p-column-title">Men Refused </span>
                    {{ datalist.menRefused || 0 }}%
                </td>
                <td style="text-align: center">
                    <span class="p-column-title">Other </span>
                    {{ datalist.other || 0 }}%
                </td>
                <td style="text-align: center">
                    <span class="p-column-title">Missing </span>
                    {{ datalist.missing || 0 }}%
                </td>
                <td style="text-align: center">
                    <span class="p-column-title">Total </span>
                    {{ datalist.total || 0 }}%
                </td>
                <td style="text-align: center">
                    <span class="p-column-title">Number of Men 15-54 </span>
                    {{ datalist.numberOfMen || 0 }}
                </td>
                <td style="text-align: center">
                    <span class="p-column-title">Among Men Measured Height Out of Range (%) </span>
                    {{ datalist.menHtOutOfRange || 0 }}
                </td>
                <td style="text-align: center">
                    <span class="p-column-title">Men With Valid Height Data (%) </span>
                    {{ datalist.menWithValidHtData || 0 }}
                </td>
            </tr>
        </ng-template>
        <ng-template pTemplate="emptymessage">
            <tr>
                <td colspan="10" class="text-center">No Data Available</td>
            </tr>
        </ng-template>
    </p-table>
</div>
